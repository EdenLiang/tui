{"version":3,"sources":["../../src/components/menu.js"],"names":[],"mappings":"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","file":"menu.js","sourcesContent":[";(function(){\n\tif (typeof jQuery === 'undefined' || typeof React === 'undefined') {\n\t\tthrow new Error('TUI requires jQuery and React.');\n\t}\n\n\tvar TUI = window.TUI || {};\n\n\tvar Menu = React.createClass({\n\t\tgetInitialState: function() {\n\t\t\treturn {\n\t\t\t\tinit: true,\n\t\t\t\tmenusComp: '加载中...',\n\t\t\t\tmenusContentComp: '加载中...',\n\t\t\t\tmenuListProps: {\n\t\t\t\t\tcreateMenu: this.createMenu,\n\t\t\t\t\tgetMenuInfo: this.getMenuInfo\n\t\t\t\t},\n\t\t\t\tmenuContentProps: {\n\t\t\t\t\tdeleteMenu: this.deleteMenu,\n\t\t\t\t\tupdateMenu: this.updateMenu\n\t\t\t\t}\n\t\t\t};\n\t\t},\n\t\t// 菜单初始化\n\t\tcomponentDidMount: function() {\n\t\t\tthis.menuList();\n\t\t},\n\t\t// 加载菜单列表\n\t\tmenuList: function() {\n\t\t\t$.get('/menu/list', function(result) {\n\t\t\t\tif (!result.error && this.isMounted()) {\n\t\t\t\t\tvar results = result.results;\n\n\t\t\t\t\tfor (var i = 0; i < results.length; i++) {\n\t\t\t\t\t\tif (!results[i].subMenus) {\n\t\t\t\t\t\t\tresults[i].subMenus = [];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tvar menuContent = results.length > 0? results[0]: {},\n\t\t\t\t\t\tstateData = {\n\t\t\t\t\t\t\tmenusComp: <MenuList {...this.state.menuListProps} menuList={results}/>\n\t\t\t\t\t\t};\n\n\t\t\t\t\t// 初始化加载第一个菜单内容\n\t\t\t\t\tif (this.state.init) {\n\t\t\t\t\t\tstateData.init = false;\n\t\t\t\t\t\tstateData.menusContentComp = <MenuContent {...this.state.menuContentProps} content={menuContent}/>;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.setState(stateData);\n\t\t\t\t} else {\n\t\t\t\t\tTUI.danger('菜单列表加载失败');\n\t\t\t\t}\n\t\t\t}.bind(this));\n\t\t},\n\t\t// 获取单个菜单信息\n\t\tgetMenuInfo: function(objectId) {\n\t\t\t$.get('/menu/get/' + objectId, function(result) {\n\t\t\t\tif (!result.error) {\n\t\t\t\t\tthis.setState({menusContentComp: <MenuContent {...this.state.menuContentProps} content={result}/>});\n\t\t\t\t}\n\t\t\t}.bind(this));\n\t\t},\n\t\t// 创建菜单\n\t\tcreateMenu: function(data) {\n\t\t\t$.post('/menu/create', data, function(result) {\n\t\t\t\tif (!result.error) {\n\t\t\t\t\tTUI.success('菜单“'+ data.name +'”创建成功');\n\t\t\t\t\tthis.menuList();\n\t\t\t\t} else {\n\t\t\t\t\tTUI.danger('菜单“'+ data.name +'”创建失败');\n\t\t\t\t}\n\t\t\t}.bind(this));\n\t\t},\n\t\t// 更新菜单\n\t\tupdateMenu: function(data) {\n\t\t\t$.post('/menu/update/' + data.objectId, data, function(result) {\n\t\t\t\tif (!result.error) {\n\t\t\t\t\tTUI.success('菜单“'+ data.name +'”保存成功');\n\t\t\t\t\tthis.menuList();\n\t\t\t\t} else {\n\t\t\t\t\tTUI.danger('菜单“'+ data.name +'”保存失败');\n\t\t\t\t}\n\t\t\t}.bind(this));\n\t\t},\n\t\t// 删除菜单\n\t\tdeleteMenu: function(objectId, name) {\n\t\t\tvar that = this;\n\t\t\tvar modalProps = {\n\t\t\t\tid: 'delMenuModal',\n\t\t\t\ttitle: '删除确认',\n\t\t\t\tcontent: '<div class=\"alert alert-warning\">确定要删除菜单“'+ name +'”吗？</div>',\n\t\t\t\tconfirm: function() {\n\t\t\t\t\t$.get('/menu/delete/' + objectId, function(result) {\n\t\t\t\t\t\tif (!result.error) {\n\t\t\t\t\t\t\tTUI.success('删除成功');\n\t\t\t\t\t\t\tthat.menuList();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tTUI.danger('删除失败');\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t$('#' + modalProps.id).modal('hide');\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tReactDOM.render(\n\t\t\t\t<TUI.Modal {...modalProps} />,\n\t\t\t\tdocument.getElementById('container-modal')\n\t\t\t);\n\n\t\t\t$('#' + modalProps.id).modal('show');\n\t\t},\n\t\trender: function() {\n\t\t\treturn (\n\t\t\t\t<div className=\"row tui-menu\">\n\t\t\t\t\t<div className=\"col-md-3 col-sm-12 col-xs-12\">\n\t\t\t\t\t\t{this.state.menusComp}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"col-md-9 col-sm-12 col-xs-12\">\n\t\t\t\t\t\t{this.state.menusContentComp}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t});\n\t\n\t// 菜单列表组件\n\tvar MenuList = React.createClass({\n\t\tgetInitialState: function() {\n\t\t\treturn {\n\t\t\t\tisActive: false\n\t\t\t};\n\t\t},\n\t\tgetMenuInfo: function(objectId) {\n\t\t\tthis.props.getMenuInfo(objectId);\n\t\t},\n\t\t// 创建菜单\n\t\tcreateMenu: function(e) {\n\t\t\te.preventDefault();\n\n\t\t\tvar target = e.currentTarget.dataset,\n\t\t\t\ttype = target.type || 'parent',\n\t\t\t\tdata = { name: '菜单名称', type: 'view', url: '' };\n\n\t\t\tif (type === 'child') {\n\t\t\t\tdata.name = '子菜单名称';\n\t\t\t\tdata.parent = { '__type': 'object', objectId: target.parentid };\n\t\t\t}\n\t\t\tthis.props.createMenu(data);\n\t\t},\n\t\trender: function() {\n\t\t\treturn (\n\t\t\t\t<div className=\"list-group\">\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.props.menuList.map(function(m, key) {\n\t\t\t\t\t\t\treturn (<MenuItem \n\t\t\t\t\t\t\t\t\t\tkey={key} \n\t\t\t\t\t\t\t\t\t\tgetMenuInfo={this.getMenuInfo} \n\t\t\t\t\t\t\t\t\t\tcreateMenu={this.createMenu} \n\t\t\t\t\t\t\t\t\t\tm={m} />\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}.bind(this))\n\t\t\t\t\t}\n\t\t\t\t  \t<a href=\"javascript:;\" className=\"list-group-item text-center\" onClick={this.createMenu} data-type=\"parent\"><span className=\"glyphicon glyphicon-plus\" aria-hidden=\"true\"></span>&nbsp;添加父菜单</a>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t});\n\n\tvar MenuItem = React.createClass({\n\t\tgetInitialState: function() {\n\t\t\treturn {\n\t\t\t\tisShow: false,\n\t\t\t\tsubMenus: this.props.m.subMenus instanceof Array? this.props.m.subMenus: []\n\t\t\t};\n\t\t},\n\t\tgetMenuInfo: function(e) {\n\t\t\te.preventDefault();\n\n\t\t\tif (e.currentTarget.dataset.type === 'parent') {\n\t\t\t\tthis.setState({ isShow: !this.state.isShow });\n\t\t\t}\n\t\t\tthis.props.getMenuInfo(e.currentTarget.dataset.objectid);\n\t\t},\n\t\trender: function() {\n\t\t\treturn (\n\t\t\t\t<div>\n\t\t\t\t\t<a id=\"tui-sidebar-a\"href=\"javascript:;\" className=\"list-group-item\" onClick={this.getMenuInfo} data-objectid={this.props.m.objectId} data-type=\"parent\">\n\t\t\t\t\t\t<span><i className={this.props.m.iconClass + ' fa-fw'}></i>&nbsp;{this.props.m.name}</span>\n\t\t\t\t\t</a>\n\t\t\t\t\t<ul className={this.state.isShow == false? 'tui-menu-child-ui hide': 'tui-menu-child-ui show'}>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.props.m.subMenus.map(function(sub, key) {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<li key={key} onClick={this.getMenuInfo} data-objectid={sub.objectId} data-type=\"child\"><i className={sub.iconClass}></i>&nbsp;{sub.name}</li>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}.bind(this))\n\t\t\t\t\t\t}\n\t\t\t\t\t\t<li className=\"text-center\" onClick={this.props.createMenu} data-parentid={this.props.m.objectId} data-type=\"child\"><span className=\"glyphicon glyphicon-plus\" aria-hidden=\"true\"></span></li>\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t});\n\n\t// 菜单内容组件\n\tvar MenuContent = React.createClass({\n\t\tgetInitialState: function() {\n\t\t\tvar content = {\n\t\t\t\tname: this.props.content.name,\n\t\t\t\ticonClass: this.props.content.iconClass,\n\t\t\t\turl: this.props.content.url\n\t\t\t};\n\n\t\t\treturn {\n\t\t\t\tcontent: content\n\t\t\t};\n\t\t},\n\t\tcomponentWillReceiveProps: function(nextProps) {\n\t\t\tvar content = {\n\t\t\t\tname: nextProps.content.name,\n\t\t\t\ticonClass: nextProps.content.iconClass,\n\t\t\t\turl: nextProps.content.url\n\t\t\t};\n\n\t\t\tthis.setState({ content: content });\n\t\t},\n\t\t// onChange\n\t\thandleChange: function(e) {\n\t\t\tvar content = this.state.content;\n\t\t\tcontent[e.target.name] = e.target.value;\n\n\t\t\tthis.setState({ content: content });\n\t\t},\n\t\t// 更新菜单\n\t\tupdateMenu: function() {\n\t\t\tvar data = {\n\t\t\t\tobjectId: this.props.content.objectId,\n\t\t\t\tname: this.refs.name.value,\n\t\t\t\ticonClass: this.refs.iconClass.value,\n\t\t\t\turl: this.refs.url.value\n\t\t\t};\n\n\t\t\tthis.props.updateMenu(data);\n\t\t},\n\t\t// 删除菜单\n\t\tdeleteMenu: function(e) {\n\t\t\te.preventDefault();\n\n\t\t\tthis.props.deleteMenu(this.props.content.objectId, this.props.content.name);\n\t\t},\n\t\trender: function() {\n\t\t\treturn (\n\t\t\t\t<div className=\"well\" style={{'marginTop': '0'}}>\n\t\t\t\t\t<div className=\"page-header tui-page-header\">\n\t\t\t\t\t\t<a href=\"#tui-modal\" className=\"pull-right\" onClick={this.deleteMenu}><i className=\"fa fa-trash-o\"></i>&nbsp;删除菜单</a>\n\t\t\t\t\t\t<h4><i className={this.props.content.iconClass}></i>&nbsp;{this.props.content.name}</h4>\n\t\t\t\t\t</div>\n\t\t\t\t\t<form className=\"form-horizontal\" style={{'marginTop': '30px'}}>\n\t\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t\t<label className=\"col-sm-2 control-label\">菜单名称</label>\n\t\t\t\t\t\t    <div className=\"col-sm-4\">\n\t\t\t\t\t\t      \t<input type=\"text\" className=\"form-control\" name=\"name\" ref=\"name\" placeholder=\"菜单名称\" value={this.state.content.name} onChange={this.handleChange}/>\n\t\t\t\t\t\t    </div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t\t<label className=\"col-sm-2 control-label\">URL</label>\n\t\t\t\t\t\t    <div className=\"col-sm-4\">\n\t\t\t\t\t\t      \t<input type=\"text\" className=\"form-control\" name=\"url\" ref=\"url\" placeholder=\"url，父级菜单无须填写\" value={this.state.content.url} onChange={this.handleChange}/>\n\t\t\t\t\t\t    </div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t\t<label className=\"col-sm-2 control-label\">图标 Class</label>\n\t\t\t\t\t\t    <div className=\"col-sm-4\">\n\t\t\t\t\t\t      \t<input type=\"text\" className=\"form-control\" name=\"iconClass\" ref=\"iconClass\" placeholder=\"图标class\" value={this.state.content.iconClass} onChange={this.handleChange}/>\n\t\t\t\t\t\t    </div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t    <div className=\"col-sm-4 col-sm-offset-2\">\n\t\t\t\t\t\t    \t<button type=\"button\" className=\"ebtn ebtn-success ebtn-rounded ebtn-lg\" onClick={this.updateMenu}>保存</button>\n\t\t\t\t\t\t    </div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t});\n\n\t// 菜单管理\n\tTUI.Menu = Menu;\n\n    if (typeof module !== 'undefined' && typeof exports === 'object') {\n        module.exports = TUI;\n    } else if (typeof define === 'function' && (define.amd || define.cmd)) {\n        define(function() { return TUI; });\n    } else {\n        window.TUI = TUI;\n    }\n}).call(function() {\n\treturn this || (typeof window !== 'undefined' ? window : global);\n});"]}